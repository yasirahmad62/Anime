(this["webpackJsonpredux-movie-app"]=this["webpackJsonpredux-movie-app"]||[]).push([[0],{65:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c.n(a),s=c(17),o=c.n(s),i=c(9),l=c(18),u=c(3),j=c(10),m=c(25),b=c(11),d=c(12),p=c.n(d),v=c(20),g=c(14),h=c(35),O=c.n(h).a.create({baseURL:"https://api.jikan.moe"}),f=Object(g.b)("movies/fetchAsyncMovies",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.page),console.log(t.query),console.log("query text 11--\x3e ",t.query),console.log("FF"),console.log(t),console.log(t.page,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=10,O.get(c);case 10:return n=e.sent,e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(g.b)("movies/fetchAsyncMoviesBySearch",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.page),console.log(t.query),console.log("query text --\x3e ",t.query),console.log(t.page,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=8,O.get(c);case 8:return n=e.sent,e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=function(){var e=Object(v.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/v3/search/anime?q=<query>&limit=16&page=".concat(t));case 2:return c=e.sent,console.log("pg -> ",N.page_number),e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={movies:[],movieQuery:null,page_number:1},q=Object(g.c)({name:"movies",initialState:N,reducers:{incrementPageNumber:function(e){e.page_number+=1},setmovieQuery:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{movieQuery:t})},fetchMoviesWithPage:function(e){console.log();var t=y;console.log("New "),console.log(t)}},extraReducers:(n={},Object(j.a)(n,f.pending,(function(){console.log("Pending")})),Object(j.a)(n,f.fulfilled,(function(e,t){var c=t.payload;return console.log("Fetched Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(c.results))})})),Object(j.a)(n,x.fulfilled,(function(e,t){var c=t.payload;return console.log("Search Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:c.results})})),Object(j.a)(n,f.rejected,(function(){console.log("Rejected!")})),n)}),S=q.actions,T=S.incrementPageNumber,w=(S.fetchMoviesWithPage,S.setmovieQuery),k=function(e){return e.movies.movies},Q=function(e){return e.movies.page_number},_=q.reducer,A=Object(g.a)({reducer:{movies:_}}),M=(c(65),c(1)),P=function(e){var t=e.data;return Object(M.jsx)("div",{className:"card-item",children:Object(M.jsxs)("div",{className:"card-inner",children:[Object(M.jsx)("div",{className:"card-top",children:Object(M.jsx)("img",{src:t.image_url,alt:t.title})}),Object(M.jsx)("div",{className:"card-bottom",children:Object(M.jsx)("div",{className:"card-info",children:Object(M.jsx)("h4",{children:t.title})})})]})})},R=(c(67),function(){var e=Object(i.b)(),t=A.getState();Object(a.useEffect)((function(){e(f({page:t.movies.page_number}))}),[e]);var c=Object(i.c)(k);console.log(c),c.map((function(e,t){console.log(e)}));var n;Object(i.c)(Q);return n=c?c.map((function(e,t){return Object(M.jsx)(P,{data:e},t)})):Object(M.jsx)("div",{className:"movies-error",children:Object(M.jsx)("h3",{children:c.Error})}),Object(M.jsxs)("div",{className:"movie-wrapper",children:[Object(M.jsxs)("div",{className:"movie-list",children:[Object(M.jsx)("h2",{children:"Animes"}),Object(M.jsx)("div",{className:"movie-container",children:n})]}),Object(M.jsx)("button",{onClick:function(){e(T()),e(f({page:t.movies.page_number+1,query:t.movies.movieQuery?t.movies.movieQuery.payload:null}))},className:"load-but",children:"Load More"})]})}),B=function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"banner-img"}),Object(M.jsx)(R,{})]})},C=c(36),E=(c(68),function(){var e=Object(i.b)(),t=A.getState(),c=Object(a.useState)(""),n=Object(C.a)(c,2),r=n[0],s=n[1];return Object(M.jsxs)("div",{className:"header",children:[Object(M.jsxs)("div",{class:"search",children:[Object(M.jsx)("input",{type:"text",placeholder:"search for an anime, e.g Naruto",name:"name",className:"input searchTerm",onChange:function(e){return s(e.target.value)}}),Object(M.jsx)("input",{type:"submit",className:"searchButton",onClick:function(c){console.log("5555"),console.log(t.movies.movieQuery),c.preventDefault(),console.log(r),console.log("Searching..."),e(w(r)),e(x({page:1,query:r}))},value:"Go"})]}),Object(M.jsx)("div",{className:"para-div",children:Object(M.jsxs)("p",{className:"paragraph",children:[Object(M.jsx)("span",{className:"para-span",children:"Requesting: "}),"https://api.jikan.moe/v3/search/anime?q=",r]})})]})}),F=(c(69),function(){return Object(M.jsxs)("div",{className:"footer",children:[Object(M.jsx)("div",{children:"Anime App"}),Object(M.jsx)("div",{children:"Spinny Assignment"})]})});c(70);var J=function(){return Object(M.jsx)("div",{className:"app",children:Object(M.jsxs)(l.a,{children:[Object(M.jsx)(E,{}),Object(M.jsx)("div",{className:"container",children:Object(M.jsx)(u.c,{children:Object(M.jsx)(u.a,{path:"/",exact:!0,component:B})})}),Object(M.jsx)(F,{})]})})};o.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(i.a,{store:A,children:Object(M.jsx)(J,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.ed4e8cef.chunk.js.map