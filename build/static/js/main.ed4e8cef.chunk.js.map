{"version":3,"sources":["common/apis/movieApi.js","features/movies/movieSlice.js","features/store.js","components/MovieCard/MovieCard.js","components/MovieListing/MovieListing.js","components/Home/Home.js","components/Header/Header.js","components/Footer/Footer.js","App.js","index.js"],"names":["axios","create","baseURL","fetchAsyncMovies","createAsyncThunk","urlData","a","console","log","page","query","movie_url","movieApi","get","response","data","fetchAsyncMoviesBySearch","fetchNewMovies","initialState","page_number","movies","movieQuery","movieSlice","createSlice","name","reducers","incrementPageNumber","state","setmovieQuery","fetchMoviesWithPage","new_movies","extraReducers","pending","fulfilled","payload","results","rejected","actions","getAllMovies","getPageNumber","store","configureStore","reducer","moviesReducer","MovieCard","props","className","src","image_url","alt","title","MovieListing","dispatch","useDispatch","new_state","getState","useEffect","useSelector","map","movie","index","renderMovies","Error","onClick","Home","Header","useState","searchText","setSearchText","class","type","placeholder","onChange","e","target","value","event","preventDefault","Footer","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed4e8cef.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://api.jikan.moe\",\n});\n\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\n\nexport const fetchAsyncMovies = createAsyncThunk(\n  \"movies/fetchAsyncMovies\",\n  async (urlData) => {\n    console.log(urlData.page);\n    console.log(urlData.query);\n    console.log(\"query text 11--> \", urlData.query);\n    console.log(\"FF\");\n    console.log(urlData);\n    console.log(urlData.page, \"TTTTT\");\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=16&page=${urlData.page}`;\n    console.log(movie_url);\n    const response = await movieApi.get(movie_url);\n    return response.data;\n  }\n);\n\nexport const fetchAsyncMoviesBySearch = createAsyncThunk(\n  \"movies/fetchAsyncMoviesBySearch\",\n  async (urlData) => {\n    console.log(urlData.page);\n    console.log(urlData.query);\n    console.log(\"query text --> \", urlData.query);\n    console.log(urlData.page, \"TTTTT\");\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=16&page=${urlData.page}`;\n    console.log(movie_url);\n    const response = await movieApi.get(\n      // `/v3/search/anime?${query ? 'q='+query : ''}&limit=16&page=${page}`\n      movie_url\n    );\n    return response.data;\n  }\n);\n\nconst fetchNewMovies = async (page) => {\n  const response = await movieApi.get(\n    `/v3/search/anime?q=<query>&limit=16&page=${page}`\n  );\n\n  console.log(\"pg -> \", initialState.page_number);\n  return response.data;\n};\n\nconst initialState = {\n  movies: [],\n  movieQuery: null,\n  page_number: 1,\n};\n\nconst movieSlice = createSlice({\n  name: \"movies\",\n  initialState,\n  reducers: {\n    incrementPageNumber: (state) => {\n      state.page_number += 1;\n    },\n    setmovieQuery: (state, query) => {\n      return { ...state, movieQuery: query };\n    },\n    fetchMoviesWithPage: (state) => {\n      console.log();\n      const new_movies = fetchNewMovies;\n      console.log(\"New \");\n      console.log(new_movies);\n      // const new_movies = movieApi.get(`/v3/search/anime?q=<query>&limit=16&page=${initialState.page_number}`);\n      // console.log(new_movies);\n    },\n  },\n  extraReducers: {\n    [fetchAsyncMovies.pending]: () => {\n      console.log(\"Pending\");\n    },\n    [fetchAsyncMovies.fulfilled]: (state, { payload }) => {\n      console.log(\"Fetched Successfully!\");\n      return { ...state, movies: [...state.movies, ...payload.results] };\n    },\n    [fetchAsyncMoviesBySearch.fulfilled]: (state, { payload }) => {\n      console.log(\"Search Successfully!\");\n      // state.movies = [];\n      return { ...state, movies: payload.results };\n    },\n    [fetchAsyncMovies.rejected]: () => {\n      console.log(\"Rejected!\");\n    },\n  },\n});\n\nexport const {\n  incrementPageNumber,\n  fetchMoviesWithPage,\n  setmovieQuery,\n} = movieSlice.actions;\nexport const getAllMovies = (state) => state.movies.movies;\n\nexport const getPageNumber = (state) => state.movies.page_number;\nexport const getNewMovies = (state) => fetchAsyncMovies;\nexport default movieSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport moviesReducer from \"./movies/movieSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    movies: moviesReducer,\n  },\n});\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./MovieCard.scss\";\n\nconst MovieCard = (props) => {\n  const { data } = props;\n  return (\n    <div className=\"card-item\">\n        <div className=\"card-inner\">\n          <div className=\"card-top\">\n            <img src={data.image_url} alt={data.title} />\n          </div>\n          <div className=\"card-bottom\">\n            <div className=\"card-info\">\n              <h4>{data.title}</h4>\n            </div>\n          </div>\n        </div>\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  fetchAsyncMovies,\n  getAllMovies,\n  getPageNumber,\n  incrementPageNumber,\n  getNewMovies,\n  fetchMoviesWithPage,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport MovieCard from \"../MovieCard/MovieCard\";\nimport \"./MovieListing.scss\";\nconst MovieListing = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n  useEffect(() => {\n    dispatch(fetchAsyncMovies({ page: new_state.movies.page_number }));\n  }, [dispatch]);\n\n  const movies = useSelector(getAllMovies);\n  console.log(movies);\n  movies.map((movie, index) => {\n    console.log(movie);\n  });\n  const page_number = useSelector(getPageNumber);\n  // const dispatch = useDispatch();\n\n  const loadMore = () => {\n    dispatch(incrementPageNumber());\n    dispatch(\n      fetchAsyncMovies({\n        page: new_state.movies.page_number + 1,\n        query: new_state.movies.movieQuery\n          ? new_state.movies.movieQuery.payload\n          : null,\n      })\n    );\n  };\n  let renderMovies;\n\n  renderMovies = movies ? (\n    movies.map((movie, index) => <MovieCard key={index} data={movie} />)\n  ) : (\n    <div className=\"movies-error\">\n      <h3>{movies.Error}</h3>\n    </div>\n  );\n  return (\n    <div className=\"movie-wrapper\">\n      <div className=\"movie-list\">\n        <h2>Animes</h2>\n        <div className=\"movie-container\">{renderMovies}</div>\n      </div>\n      <button onClick={loadMore} className=\"load-but\">\n        Load More\n      </button>\n    </div>\n  );\n};\n\nexport default MovieListing;\n","import React, { useEffect } from \"react\";\nimport MovieListing from \"../MovieListing/MovieListing\";\n\nimport { useDispatch } from \"react-redux\";\nimport { fetchAsyncMovies } from \"../../features/movies/movieSlice\";\nconst Home = () => {\n  return (\n    <div>\n      <div className=\"banner-img\"></div>\n      <MovieListing />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  fetchAsyncMoviesBySearch,\n  getAllMovies,\n  setmovieQuery,\n  getPageNumber,\n  incrementPageNumber,\n  getNewMovies,\n  fetchMoviesWithPage,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n\n  const [searchText, setSearchText] = useState(\"\");\n\n  const searchMovie = (event) => {\n    console.log(\"5555\");\n    console.log(new_state.movies.movieQuery);\n    event.preventDefault();\n    console.log(searchText);\n    console.log(\"Searching...\");\n    // console.log(searchText)\n    dispatch(setmovieQuery(searchText));\n    dispatch(fetchAsyncMoviesBySearch({ page: 1, query: searchText }));\n  };\n\n  return (\n    <div className=\"header\">\n      <div class=\"search\">\n        <input\n          type=\"text\"\n          placeholder=\"search for an anime, e.g Naruto\"\n          name=\"name\"\n          className=\"input searchTerm\"\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n        <input\n          type=\"submit\"\n          className=\"searchButton\"\n          onClick={searchMovie}\n          value=\"Go\"\n        />\n      </div>\n      <div className=\"para-div\">\n        <p className=\"paragraph\">\n          <span className='para-span'>Requesting: </span>https://api.jikan.moe/v3/search/anime?q={searchText}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      <div>Anime App</div>\n      <div>Spinny Assignment</div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Header></Header>\n        <div className=\"container\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n          </Switch>\n        </div>\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport { store } from \"./features/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}