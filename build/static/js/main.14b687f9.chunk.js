(this["webpackJsonpredux-movie-app"]=this["webpackJsonpredux-movie-app"]||[]).push([[0],{65:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c.n(a),i=c(17),s=c.n(i),o=c(9),u=c(18),l=c(3),j=c(11),m=c(25),b=c(10),d=c(12),p=c.n(d),v=c(20),O=c(14),h=c(36),g=c.n(h).a.create({baseURL:"https://api.jikan.moe"}),f=Object(O.b)("movies/fetchAsyncMovies",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=".concat(t.pageNum?t.pageNum:"16","&page=").concat(t.page),console.log(c),console.log(t.pageNum),e.next=5,g.get(c);case 5:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(O.b)("movies/fetchAsyncMoviesBySearch",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=".concat(t.pageNum?t.pageNum:"16","&page=").concat(t.page),console.log(c),e.next=5,g.get(c);case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=function(){var e=Object(v.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/v3/search/anime?q=<query>&limit=16&page=".concat(t));case 2:return c=e.sent,console.log("pg -> ",y.page_number),e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y={movies:[],movieQuery:null,page_number:1,pageLimit:null},q=Object(O.c)({name:"movies",initialState:y,reducers:{incrementPageNumber:function(e){e.page_number+=1},resetPageNumber:function(e){e.page_number=1},setmovieQuery:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{movieQuery:t})},setMoviewPageLimit:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{pageLimit:t})},fetchMoviesWithPage:function(e){console.log();var t=N;console.log("New "),console.log(t)}},extraReducers:(n={},Object(j.a)(n,f.pending,(function(){console.log("Pending")})),Object(j.a)(n,f.fulfilled,(function(e,t){var c=t.payload;return console.log("Fetched Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(c.results))})})),Object(j.a)(n,x.fulfilled,(function(e,t){var c=t.payload;return console.log("Search Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:c.results})})),Object(j.a)(n,f.rejected,(function(){console.log("Rejected!")})),n)}),w=q.actions,S=w.incrementPageNumber,k=(w.fetchMoviesWithPage,w.resetPageNumber),P=w.setmovieQuery,M=w.setMoviewPageLimit,_=function(e){return e.movies.movies},A=function(e){return e.movies.page_number},L=q.reducer,Q=Object(O.a)({reducer:{movies:L}}),T=(c(65),c(1)),C=function(e){var t=e.data;return Object(T.jsx)("div",{className:"card-item",children:Object(T.jsxs)("div",{className:"card-inner",children:[Object(T.jsx)("div",{className:"card-top",children:Object(T.jsx)("img",{src:t.image_url,alt:t.title})}),Object(T.jsx)("div",{className:"card-bottom",children:Object(T.jsx)("div",{className:"card-info",children:Object(T.jsx)("h4",{children:t.title})})})]})})},R=(c(67),function(){var e=Object(o.b)(),t=Q.getState();Object(a.useEffect)((function(){e(f({page:t.movies.page_number}))}),[e]);var c=Object(o.c)(_);c.map((function(e,t){}));var n;Object(o.c)(A);return n=c?c.map((function(e,t){return Object(T.jsx)(C,{data:e},t)})):Object(T.jsx)("div",{className:"movies-error",children:Object(T.jsx)("h3",{children:c.Error})}),Object(T.jsxs)("div",{className:"movie-wrapper",children:[Object(T.jsxs)("div",{className:"movie-list",children:[Object(T.jsx)("h2",{children:"Animes"}),Object(T.jsx)("div",{className:"movie-container",children:n})]}),Object(T.jsx)("button",{onClick:function(){e(S()),e(f({page:t.movies.page_number+1,query:t.movies.movieQuery?t.movies.movieQuery.payload:null,pageNum:t.movies.pageLimit.payload}))},className:"load-but",children:"Load More"})]})}),B=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"banner-img"}),Object(T.jsx)(R,{})]})},E=c(26),J=(c(68),function(){var e=Object(o.b)(),t=(Q.getState(),Object(a.useState)("")),c=Object(E.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(""),s=Object(E.a)(i,2),u=s[0],l=s[1];return Object(T.jsxs)("div",{className:"header",children:[Object(T.jsxs)("div",{class:"search",children:[Object(T.jsx)("input",{type:"text",placeholder:"search for an anime, e.g Naruto",name:"name",className:"input searchTerm",onChange:function(e){return r(e.target.value)}}),Object(T.jsx)("input",{type:"submit",className:"searchButton",onClick:function(t){t.preventDefault(),e(k()),e(P(n)),e(M(u)),e(x({page:1,query:n,pageNum:u}))},value:"Go"}),Object(T.jsxs)("select",{id:"dropdown",onChange:function(e){return l(e.target.value)},children:[Object(T.jsx)("option",{value:"N/A",children:"Select page limit"}),Object(T.jsx)("option",{value:"4",children:"4"}),Object(T.jsx)("option",{value:"8",children:"8"}),Object(T.jsx)("option",{value:"16",children:"16"}),Object(T.jsx)("option",{value:"32",children:"32"})]})]}),Object(T.jsx)("div",{className:"para-div",children:Object(T.jsxs)("p",{className:"paragraph",children:[Object(T.jsx)("span",{className:"para-span",children:"Requesting: "}),"https://api.jikan.moe/v3/search/anime?q=",n]})})]})}),W=(c(69),function(){return Object(T.jsxs)("div",{className:"footer",children:[Object(T.jsx)("div",{children:"Anime App"}),Object(T.jsx)("div",{children:"Spinny Assignment"})]})});c(70);var D=function(){return Object(T.jsx)("div",{className:"app",children:Object(T.jsxs)(u.a,{children:[Object(T.jsx)(J,{}),Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(l.c,{children:Object(T.jsx)(l.a,{path:"/",exact:!0,component:B})})}),Object(T.jsx)(W,{})]})})};s.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(o.a,{store:Q,children:Object(T.jsx)(D,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.14b687f9.chunk.js.map