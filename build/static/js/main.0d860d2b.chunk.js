(this["webpackJsonpredux-movie-app"]=this["webpackJsonpredux-movie-app"]||[]).push([[0],{65:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c.n(a),s=c(17),i=c.n(s),o=c(9),u=c(18),l=c(3),j=c(10),m=c(25),b=c(11),d=c(12),p=c.n(d),v=c(20),h=c(14),O=c(35),f=c.n(O).a.create({baseURL:"https://api.jikan.moe"}),g=Object(h.b)("movies/fetchAsyncMovies",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=4,f.get(c);case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(h.b)("movies/fetchAsyncMoviesBySearch",function(){var e=Object(v.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.page,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=5,f.get(c);case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=function(){var e=Object(v.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/v3/search/anime?q=<query>&limit=16&page=".concat(t));case 2:return c=e.sent,console.log("pg -> ",N.page_number),e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={movies:[],movieQuery:null,page_number:1},q=Object(h.c)({name:"movies",initialState:N,reducers:{incrementPageNumber:function(e){e.page_number+=1},resetPageNumber:function(e){e.page_number=1},setmovieQuery:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{movieQuery:t})},fetchMoviesWithPage:function(e){console.log();var t=y;console.log("New "),console.log(t)}},extraReducers:(n={},Object(j.a)(n,g.pending,(function(){console.log("Pending")})),Object(j.a)(n,g.fulfilled,(function(e,t){var c=t.payload;return console.log("Fetched Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(c.results))})})),Object(j.a)(n,x.fulfilled,(function(e,t){var c=t.payload;return console.log("Search Successfully!"),Object(b.a)(Object(b.a)({},e),{},{movies:c.results})})),Object(j.a)(n,g.rejected,(function(){console.log("Rejected!")})),n)}),w=q.actions,S=w.incrementPageNumber,k=(w.fetchMoviesWithPage,w.resetPageNumber),_=w.setmovieQuery,P=function(e){return e.movies.movies},A=function(e){return e.movies.page_number},M=q.reducer,Q=Object(h.a)({reducer:{movies:M}}),T=(c(65),c(1)),R=function(e){var t=e.data;return Object(T.jsx)("div",{className:"card-item",children:Object(T.jsxs)("div",{className:"card-inner",children:[Object(T.jsx)("div",{className:"card-top",children:Object(T.jsx)("img",{src:t.image_url,alt:t.title})}),Object(T.jsx)("div",{className:"card-bottom",children:Object(T.jsx)("div",{className:"card-info",children:Object(T.jsx)("h4",{children:t.title})})})]})})},B=(c(67),function(){var e=Object(o.b)(),t=Q.getState();Object(a.useEffect)((function(){e(g({page:t.movies.page_number}))}),[e]);var c=Object(o.c)(P);c.map((function(e,t){}));var n;Object(o.c)(A);return n=c?c.map((function(e,t){return Object(T.jsx)(R,{data:e},t)})):Object(T.jsx)("div",{className:"movies-error",children:Object(T.jsx)("h3",{children:c.Error})}),Object(T.jsxs)("div",{className:"movie-wrapper",children:[Object(T.jsxs)("div",{className:"movie-list",children:[Object(T.jsx)("h2",{children:"Animes"}),Object(T.jsx)("div",{className:"movie-container",children:n})]}),Object(T.jsx)("button",{onClick:function(){e(S()),e(g({page:t.movies.page_number+1,query:t.movies.movieQuery?t.movies.movieQuery.payload:null}))},className:"load-but",children:"Load More"})]})}),C=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"banner-img"}),Object(T.jsx)(B,{})]})},E=c(36),J=(c(68),function(){var e=Object(o.b)(),t=(Q.getState(),Object(a.useState)("")),c=Object(E.a)(t,2),n=c[0],r=c[1];return Object(T.jsxs)("div",{className:"header",children:[Object(T.jsxs)("div",{class:"search",children:[Object(T.jsx)("input",{type:"text",placeholder:"search for an anime, e.g Naruto",name:"name",className:"input searchTerm",onChange:function(e){return r(e.target.value)}}),Object(T.jsx)("input",{type:"submit",className:"searchButton",onClick:function(t){t.preventDefault(),e(k()),e(_(n)),e(x({page:1,query:n}))},value:"Go"})]}),Object(T.jsx)("div",{className:"para-div",children:Object(T.jsxs)("p",{className:"paragraph",children:[Object(T.jsx)("span",{className:"para-span",children:"Requesting: "}),"https://api.jikan.moe/v3/search/anime?q=",n]})})]})}),L=(c(69),function(){return Object(T.jsxs)("div",{className:"footer",children:[Object(T.jsx)("div",{children:"Anime App"}),Object(T.jsx)("div",{children:"Spinny Assignment"})]})});c(70);var W=function(){return Object(T.jsx)("div",{className:"app",children:Object(T.jsxs)(u.a,{children:[Object(T.jsx)(J,{}),Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(l.c,{children:Object(T.jsx)(l.a,{path:"/",exact:!0,component:C})})}),Object(T.jsx)(L,{})]})})};i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(o.a,{store:Q,children:Object(T.jsx)(W,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.0d860d2b.chunk.js.map