(this["webpackJsonpredux-movie-app"]=this["webpackJsonpredux-movie-app"]||[]).push([[0],{65:function(e,t){},66:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n,r=c(0),a=c.n(r),o=c(17),s=c.n(o),i=c(9),u=c(18),l=c(3),j=c(10),b=c(25),m=c(11),d=c(12),v=c.n(d),p=c(20),g=c(14),O=c(35),f=c.n(O).a.create({baseURL:"https://api.jikan.moe"}),h=(c(65),Object(g.b)("movies/fetchAsyncMovies",function(){var e=Object(p.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.page),console.log(t.query),console.log("query text 11--\x3e ",t.query),console.log("FF"),console.log(t),console.log(t.page,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=10,f.get(c);case 10:return n=e.sent,e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),x=Object(g.b)("movies/fetchAsyncMoviesBySearch",function(){var e=Object(p.a)(v.a.mark((function e(t){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.page),console.log(t.query),console.log("query text --\x3e ",t.query),console.log(t.page,"TTTTT"),c="/v3/search/anime?q="+(t.query?t.query:"<query>")+"&limit=16&page=".concat(t.page),console.log(c),e.next=8,f.get(c);case 8:return n=e.sent,e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=function(){var e=Object(p.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Harry",e.next=3,f.get("/v3/search/anime?q=<query>&limit=16&page=".concat(t));case 3:return c=e.sent,console.log("pg -> ",N.page_number),e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={movies:[],movieQuery:null,page_number:1},q=Object(g.c)({name:"movies",initialState:N,reducers:{incrementPageNumber:function(e){e.page_number+=1},setmovieQuery:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{movieQuery:t})},fetchMoviesWithPage:function(e){console.log();var t=y;console.log("New "),console.log(t)}},extraReducers:(n={},Object(j.a)(n,h.pending,(function(){console.log("Pending")})),Object(j.a)(n,h.fulfilled,(function(e,t){var c=t.payload;return console.log("Fetched Successfully!"),Object(m.a)(Object(m.a)({},e),{},{movies:[].concat(Object(b.a)(e.movies),Object(b.a)(c.results))})})),Object(j.a)(n,x.fulfilled,(function(e,t){var c=t.payload;return console.log("Search Successfully!"),Object(m.a)(Object(m.a)({},e),{},{movies:c.results})})),Object(j.a)(n,h.rejected,(function(){console.log("Rejected!")})),n)}),S=q.actions,T=S.incrementPageNumber,w=(S.fetchMoviesWithPage,S.setmovieQuery),k=function(e){return e.movies.movies},M=function(e){return e.movies.page_number},_=q.reducer,Q=Object(g.a)({reducer:{movies:_}}),A=(c(66),c(1)),P=function(e){var t=e.data;return Object(A.jsx)("div",{className:"card-item",children:Object(A.jsxs)("div",{className:"card-inner",children:[Object(A.jsx)("div",{className:"card-top",children:Object(A.jsx)("img",{src:t.image_url,alt:t.title})}),Object(A.jsx)("div",{className:"card-bottom",children:Object(A.jsx)("div",{className:"card-info",children:Object(A.jsx)("h4",{children:t.title})})})]})})},B=(c(68),function(){var e=Object(i.b)(),t=Q.getState();Object(r.useEffect)((function(){e(h({page:t.movies.page_number}))}),[e]);var c=Object(i.c)(k);console.log(c),c.map((function(e,t){console.log(e)}));var n;Object(i.c)(M);return n=c?c.map((function(e,t){return Object(A.jsx)(P,{data:e},t)})):Object(A.jsx)("div",{className:"movies-error",children:Object(A.jsx)("h3",{children:c.Error})}),Object(A.jsxs)("div",{className:"movie-wrapper",children:[Object(A.jsxs)("div",{className:"movie-list",children:[Object(A.jsx)("h2",{children:"Movies"}),Object(A.jsx)("div",{className:"movie-container",children:n})]}),Object(A.jsx)("button",{onClick:function(){e(T()),e(h({page:t.movies.page_number+1,query:t.movies.movieQuery.payload}))},className:"load-but",children:"Load More"})]})}),C=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"banner-img"}),Object(A.jsx)(B,{})]})},E=c(36),F=(c(69),function(){var e=Object(i.b)(),t=Q.getState(),c=Object(r.useState)(""),n=Object(E.a)(c,2),a=n[0],o=n[1];return Object(A.jsx)("div",{className:"header",children:Object(A.jsxs)("div",{class:"search",children:[Object(A.jsx)("input",{type:"text",placeholder:"search for an anime, e.g Naruto",name:"name",className:"input searchTerm",onChange:function(e){return o(e.target.value)}}),Object(A.jsx)("input",{type:"submit",className:"searchButton",onClick:function(c){console.log("5555"),console.log(t.movies.movieQuery),c.preventDefault(),console.log(a),console.log("Searching..."),e(w(a)),e(x({page:1,query:a}))},value:"Go"})]})})}),R=(c(70),function(){return Object(A.jsxs)("div",{className:"footer",children:[Object(A.jsx)("div",{children:"Anime App"}),Object(A.jsx)("div",{children:"Spinny Assignment"})]})});c(71);var J=function(){return Object(A.jsx)("div",{className:"app",children:Object(A.jsxs)(u.a,{children:[Object(A.jsx)(F,{}),Object(A.jsx)("div",{className:"container",children:Object(A.jsx)(l.c,{children:Object(A.jsx)(l.a,{path:"/",exact:!0,component:C})})}),Object(A.jsx)(R,{})]})})};s.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(i.a,{store:Q,children:Object(A.jsx)(J,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.7a1d9b9f.chunk.js.map