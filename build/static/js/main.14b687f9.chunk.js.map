{"version":3,"sources":["common/apis/movieApi.js","features/movies/movieSlice.js","features/store.js","components/MovieCard/MovieCard.js","components/MovieListing/MovieListing.js","components/Home/Home.js","components/Header/Header.js","components/Footer/Footer.js","App.js","index.js"],"names":["axios","create","baseURL","fetchAsyncMovies","createAsyncThunk","urlData","a","movie_url","query","pageNum","page","console","log","movieApi","get","response","data","fetchAsyncMoviesBySearch","fetchNewMovies","initialState","page_number","movies","movieQuery","pageLimit","movieSlice","createSlice","name","reducers","incrementPageNumber","state","resetPageNumber","setmovieQuery","setMoviewPageLimit","fetchMoviesWithPage","new_movies","extraReducers","pending","fulfilled","payload","results","rejected","actions","getAllMovies","getPageNumber","store","configureStore","reducer","moviesReducer","MovieCard","props","className","src","image_url","alt","title","MovieListing","dispatch","useDispatch","new_state","getState","useEffect","useSelector","map","movie","index","renderMovies","Error","onClick","Home","Header","useState","searchText","setSearchText","searchPage","setPage","class","type","placeholder","onChange","e","target","value","event","preventDefault","id","Footer","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14b687f9.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://api.jikan.moe\",\n});\n\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\n\nexport const fetchAsyncMovies = createAsyncThunk(\n  \"movies/fetchAsyncMovies\",\n  async (urlData) => {\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=${urlData.pageNum ? urlData.pageNum : \"16\"}&page=${urlData.page}`;\n    console.log(movie_url);\n\n    console.log(urlData.pageNum);\n    const response = await movieApi.get(movie_url);\n    console.log(response.data);\n    return response.data;\n  }\n);\n\nexport const fetchAsyncMoviesBySearch = createAsyncThunk(\n  \"movies/fetchAsyncMoviesBySearch\",\n  async (urlData) => {\n    console.log(urlData, \"TTTTT\");\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=${urlData.pageNum ? urlData.pageNum : \"16\"}&page=${urlData.page}`;\n    console.log(movie_url);\n    const response = await movieApi.get(\n      // `/v3/search/anime?${query ? 'q='+query : ''}&limit=16&page=${page}`\n      movie_url\n    );\n    return response.data;\n  }\n);\n\nconst fetchNewMovies = async (page) => {\n  const response = await movieApi.get(\n    `/v3/search/anime?q=<query>&limit=16&page=${page}`\n  );\n\n  console.log(\"pg -> \", initialState.page_number);\n  return response.data;\n};\nconst initialState = {\n  movies: [],\n  movieQuery: null,\n  page_number: 1,\n  pageLimit: null,\n};\n\nconst movieSlice = createSlice({\n  name: \"movies\",\n  initialState,\n  reducers: {\n    incrementPageNumber: (state) => {\n      state.page_number += 1;\n    },\n    resetPageNumber: (state) => {\n      state.page_number = 1;\n    },\n    setmovieQuery: (state, query) => {\n      return { ...state, movieQuery: query };\n    },\n    setMoviewPageLimit: (state, pageNum) => {\n      return { ...state, pageLimit: pageNum };\n    },\n    fetchMoviesWithPage: (state) => {\n      console.log();\n      const new_movies = fetchNewMovies;\n      console.log(\"New \");\n      console.log(new_movies);\n      // const new_movies = movieApi.get(`/v3/search/anime?q=<query>&limit=16&page=${initialState.page_number}`);\n      // console.log(new_movies);\n    },\n  },\n  extraReducers: {\n    [fetchAsyncMovies.pending]: () => {\n      console.log(\"Pending\");\n    },\n    [fetchAsyncMovies.fulfilled]: (state, { payload }) => {\n      console.log(\"Fetched Successfully!\");\n      return { ...state, movies: [...state.movies, ...payload.results] };\n    },\n    [fetchAsyncMoviesBySearch.fulfilled]: (state, { payload }) => {\n      console.log(\"Search Successfully!\");\n      // state.movies = [];\n      return { ...state, movies: payload.results };\n    },\n    [fetchAsyncMovies.rejected]: () => {\n      console.log(\"Rejected!\");\n    },\n  },\n});\n\nexport const {\n  incrementPageNumber,\n  fetchMoviesWithPage,\n  resetPageNumber,\n  setmovieQuery,\n  setMoviewPageLimit,\n} = movieSlice.actions;\nexport const getAllMovies = (state) => state.movies.movies;\n\nexport const getPageNumber = (state) => state.movies.page_number;\nexport const getNewMovies = (state) => fetchAsyncMovies;\nexport default movieSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport moviesReducer from \"./movies/movieSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    movies: moviesReducer,\n  },\n});\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./MovieCard.scss\";\n\nconst MovieCard = (props) => {\n  const { data } = props;\n  return (\n    <div className=\"card-item\">\n      <div className=\"card-inner\">\n        <div className=\"card-top\">\n          <img src={data.image_url} alt={data.title} />\n        </div>\n        <div className=\"card-bottom\">\n          <div className=\"card-info\">\n            <h4>{data.title}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  fetchAsyncMovies,\n  getAllMovies,\n  getPageNumber,\n  incrementPageNumber,\n  getNewMovies,\n  fetchMoviesWithPage,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport MovieCard from \"../MovieCard/MovieCard\";\nimport \"./MovieListing.scss\";\n\nconst MovieListing = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n  useEffect(() => {\n    dispatch(fetchAsyncMovies({ page: new_state.movies.page_number }));\n  }, [dispatch]);\n\n  const movies = useSelector(getAllMovies);\n  // console.log(movies);\n  movies.map((movie, index) => {\n    // console.log(movie);\n  });\n  const page_number = useSelector(getPageNumber);\n  // const dispatch = useDispatch();\n\n  const loadMore = () => {\n    dispatch(incrementPageNumber());\n    dispatch(\n      fetchAsyncMovies({\n        page: new_state.movies.page_number + 1,\n        query: new_state.movies.movieQuery\n          ? new_state.movies.movieQuery.payload\n          : null,\n        pageNum: new_state.movies.pageLimit.payload,\n      })\n    );\n  };\n  let renderMovies;\n  renderMovies = movies ? (\n    movies.map((movie, index) => <MovieCard key={index} data={movie} />)\n  ) : (\n    <div className=\"movies-error\">\n      <h3>{movies.Error}</h3>\n    </div>\n  );\n  return (\n    <div className=\"movie-wrapper\">\n      <div className=\"movie-list\">\n        <h2>Animes</h2>\n        <div className=\"movie-container\">{renderMovies}</div>\n      </div>\n      <button onClick={loadMore} className=\"load-but\">\n        Load More\n      </button>\n    </div>\n  );\n};\n\nexport default MovieListing;\n","import React, { useEffect } from \"react\";\nimport MovieListing from \"../MovieListing/MovieListing\";\n\nimport { useDispatch } from \"react-redux\";\nimport { fetchAsyncMovies } from \"../../features/movies/movieSlice\";\nconst Home = () => {\n  return (\n    <div>\n      <div className=\"banner-img\"></div>\n      <MovieListing />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  fetchAsyncMoviesBySearch,\n  setmovieQuery,\n  setMoviewPageLimit,\n  resetPageNumber,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchPage, setPage] = useState(\"\");\n\n  const searchMovie = (event) => {\n    event.preventDefault();\n    dispatch(resetPageNumber());\n    dispatch(setmovieQuery(searchText));\n    dispatch(setMoviewPageLimit(searchPage));\n    dispatch(\n      fetchAsyncMoviesBySearch({\n        page: 1,\n        query: searchText,\n        pageNum: searchPage,\n      })\n    );\n  };\n\n  return (\n    <div className=\"header\">\n      <div class=\"search\">\n        <input\n          type=\"text\"\n          placeholder=\"search for an anime, e.g Naruto\"\n          name=\"name\"\n          className=\"input searchTerm\"\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n        <input\n          type=\"submit\"\n          className=\"searchButton\"\n          onClick={searchMovie}\n          value=\"Go\"\n        />\n        <select id=\"dropdown\" onChange={(e) => setPage(e.target.value)}>\n          <option value=\"N/A\">Select page limit</option>\n          <option value=\"4\">4</option>\n          <option value=\"8\">8</option>\n          <option value=\"16\">16</option>\n          <option value=\"32\">32</option>\n        </select>\n      </div>\n      <div className=\"para-div\">\n        <p className=\"paragraph\">\n          <span className=\"para-span\">Requesting: </span>\n          https://api.jikan.moe/v3/search/anime?q={searchText}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      <div>Anime App</div>\n      <div>Spinny Assignment</div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Header></Header>\n        <div className=\"container\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n          </Switch>\n        </div>\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport { store } from \"./features/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}