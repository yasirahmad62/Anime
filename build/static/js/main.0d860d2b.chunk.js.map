{"version":3,"sources":["common/apis/movieApi.js","features/movies/movieSlice.js","features/store.js","components/MovieCard/MovieCard.js","components/MovieListing/MovieListing.js","components/Home/Home.js","components/Header/Header.js","components/Footer/Footer.js","App.js","index.js"],"names":["axios","create","baseURL","fetchAsyncMovies","createAsyncThunk","urlData","a","movie_url","query","page","console","log","movieApi","get","response","data","fetchAsyncMoviesBySearch","fetchNewMovies","initialState","page_number","movies","movieQuery","movieSlice","createSlice","name","reducers","incrementPageNumber","state","resetPageNumber","setmovieQuery","fetchMoviesWithPage","new_movies","extraReducers","pending","fulfilled","payload","results","rejected","actions","getAllMovies","getPageNumber","store","configureStore","reducer","moviesReducer","MovieCard","props","className","src","image_url","alt","title","MovieListing","dispatch","useDispatch","new_state","getState","useEffect","useSelector","map","movie","index","renderMovies","Error","onClick","Home","Header","useState","searchText","setSearchText","class","type","placeholder","onChange","e","target","value","event","preventDefault","Footer","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d860d2b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://api.jikan.moe\",\n});\n\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport movieApi from \"../../common/apis/movieApi\";\n\nexport const fetchAsyncMovies = createAsyncThunk(\n  \"movies/fetchAsyncMovies\",\n  async (urlData) => {\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=16&page=${urlData.page}`;\n    console.log(movie_url);\n    const response = await movieApi.get(movie_url);\n    return response.data;\n  }\n);\n\nexport const fetchAsyncMoviesBySearch = createAsyncThunk(\n  \"movies/fetchAsyncMoviesBySearch\",\n  async (urlData) => {\n    console.log(urlData.page, \"TTTTT\");\n    const movie_url =\n      `/v3/search/anime?q=` +\n      (urlData.query ? urlData.query : \"<query>\") +\n      `&limit=16&page=${urlData.page}`;\n    console.log(movie_url);\n    const response = await movieApi.get(\n      // `/v3/search/anime?${query ? 'q='+query : ''}&limit=16&page=${page}`\n      movie_url\n    );\n    return response.data;\n  }\n);\n\nconst fetchNewMovies = async (page) => {\n  const response = await movieApi.get(\n    `/v3/search/anime?q=<query>&limit=16&page=${page}`\n  );\n\n  console.log(\"pg -> \", initialState.page_number);\n  return response.data;\n};\n\nconst initialState = {\n  movies: [],\n  movieQuery: null,\n  page_number: 1,\n};\n\nconst movieSlice = createSlice({\n  name: \"movies\",\n  initialState,\n  reducers: {\n    incrementPageNumber: (state) => {\n      state.page_number += 1;\n    },\n    resetPageNumber: (state) => {\n      state.page_number = 1;\n    },\n    setmovieQuery: (state, query) => {\n      return { ...state, movieQuery: query };\n    },\n    fetchMoviesWithPage: (state) => {\n      console.log();\n      const new_movies = fetchNewMovies;\n      console.log(\"New \");\n      console.log(new_movies);\n      // const new_movies = movieApi.get(`/v3/search/anime?q=<query>&limit=16&page=${initialState.page_number}`);\n      // console.log(new_movies);\n    },\n  },\n  extraReducers: {\n    [fetchAsyncMovies.pending]: () => {\n      console.log(\"Pending\");\n    },\n    [fetchAsyncMovies.fulfilled]: (state, { payload }) => {\n      console.log(\"Fetched Successfully!\");\n      return { ...state, movies: [...state.movies, ...payload.results] };\n    },\n    [fetchAsyncMoviesBySearch.fulfilled]: (state, { payload }) => {\n      console.log(\"Search Successfully!\");\n      // state.movies = [];\n      return { ...state, movies: payload.results };\n    },\n    [fetchAsyncMovies.rejected]: () => {\n      console.log(\"Rejected!\");\n    },\n  },\n});\n\nexport const {\n  incrementPageNumber,\n  fetchMoviesWithPage,\n  resetPageNumber,\n  setmovieQuery,\n} = movieSlice.actions;\nexport const getAllMovies = (state) => state.movies.movies;\n\nexport const getPageNumber = (state) => state.movies.page_number;\nexport const getNewMovies = (state) => fetchAsyncMovies;\nexport default movieSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport moviesReducer from \"./movies/movieSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    movies: moviesReducer,\n  },\n});\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./MovieCard.scss\";\n\nconst MovieCard = (props) => {\n  const { data } = props;\n  return (\n    <div className=\"card-item\">\n      <div className=\"card-inner\">\n        <div className=\"card-top\">\n          <img src={data.image_url} alt={data.title} />\n        </div>\n        <div className=\"card-bottom\">\n          <div className=\"card-info\">\n            <h4>{data.title}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  fetchAsyncMovies,\n  getAllMovies,\n  getPageNumber,\n  incrementPageNumber,\n  getNewMovies,\n  fetchMoviesWithPage,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport MovieCard from \"../MovieCard/MovieCard\";\nimport \"./MovieListing.scss\";\n\nconst MovieListing = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n  useEffect(() => {\n    dispatch(fetchAsyncMovies({ page: new_state.movies.page_number }));\n  }, [dispatch]);\n\n  const movies = useSelector(getAllMovies);\n  // console.log(movies);\n  movies.map((movie, index) => {\n    // console.log(movie);\n  });\n  const page_number = useSelector(getPageNumber);\n  // const dispatch = useDispatch();\n\n  const loadMore = () => {\n    dispatch(incrementPageNumber());\n    dispatch(\n      fetchAsyncMovies({\n        page: new_state.movies.page_number + 1,\n        query: new_state.movies.movieQuery\n          ? new_state.movies.movieQuery.payload\n          : null,\n      })\n    );\n  };\n  let renderMovies;\n  renderMovies = movies ? (\n    movies.map((movie, index) => <MovieCard key={index} data={movie} />)\n  ) : (\n    <div className=\"movies-error\">\n      <h3>{movies.Error}</h3>\n    </div>\n  );\n  return (\n    <div className=\"movie-wrapper\">\n      <div className=\"movie-list\">\n        <h2>Animes</h2>\n        <div className=\"movie-container\">{renderMovies}</div>\n      </div>\n      <button onClick={loadMore} className=\"load-but\">\n        Load More\n      </button>\n    </div>\n  );\n};\n\nexport default MovieListing;\n","import React, { useEffect } from \"react\";\nimport MovieListing from \"../MovieListing/MovieListing\";\n\nimport { useDispatch } from \"react-redux\";\nimport { fetchAsyncMovies } from \"../../features/movies/movieSlice\";\nconst Home = () => {\n  return (\n    <div>\n      <div className=\"banner-img\"></div>\n      <MovieListing />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  fetchAsyncMoviesBySearch,\n  getAllMovies,\n  setmovieQuery,\n  getPageNumber,\n  incrementPageNumber,\n  getNewMovies,\n  resetPageNumber,\n  fetchMoviesWithPage,\n} from \"../../features/movies/movieSlice\";\nimport { store } from \"../../features/store\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const new_state = store.getState();\n\n  const [searchText, setSearchText] = useState(\"\");\n\n  const searchMovie = (event) => {\n    event.preventDefault();\n    dispatch(resetPageNumber());\n    // console.log(searchText)\n    dispatch(setmovieQuery(searchText));\n    dispatch(fetchAsyncMoviesBySearch({ page: 1, query: searchText }));\n  };\n\n  return (\n    <div className=\"header\">\n      <div class=\"search\">\n        <input\n          type=\"text\"\n          placeholder=\"search for an anime, e.g Naruto\"\n          name=\"name\"\n          className=\"input searchTerm\"\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n        <input\n          type=\"submit\"\n          className=\"searchButton\"\n          onClick={searchMovie}\n          value=\"Go\"\n        />\n      </div>\n      <div className=\"para-div\">\n        <p className=\"paragraph\">\n          <span className=\"para-span\">Requesting: </span>\n          https://api.jikan.moe/v3/search/anime?q={searchText}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      <div>Anime App</div>\n      <div>Spinny Assignment</div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Header></Header>\n        <div className=\"container\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n          </Switch>\n        </div>\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport { store } from \"./features/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}